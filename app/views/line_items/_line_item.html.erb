<% if line_item == @current_item %>
<tr class="line-item-highlight">
<% else %>
<tr id="line-item">
<% end %>
  <td class="quantity" id="quantity"><%= line_item.quantity %></td>
  <td><%= line_item.product.title %></td>
  <td class="price"><%= number_to_currency(line_item.total_price) %></td>
  <% if line_item.quantity == 1 %>
  <td><%= button_to 'Remove Item', line_item, method: :delete, 
              data: { confirm: 'Are you sure?' }, remote: true %></td>
  <% else %>
  <td><%= button_to 'Remove Item', line_item_path(line_item), :params => { :line_item => {:product_id => line_item.product_id, :quantity => line_item.quantity - 1} }, method: :patch, remote: true %></td>
  <% end %>
</tr>
